on:
  workflow_dispatch:

name: Test some script

jobs:
  scala-steward:
    runs-on: ubuntu-22.04
    name: Print some things
    steps:
      - name: Checkout repository
        uses: actions/checkout@v2

      - name: Read repositories from file
        id: read-repos
        run: |
            repos_content=""
            while IFS= read -r line; do
            repo_name=$(echo "$line" | sed 's/^- //')
            echo "Line: $repo_name"
            done < repositories.md
            echo -e "::set-output name=repos::$repos_content"
        shell: bash

      - name: Print the previous output
        run: |
          for repo in ${{ steps.read-repos.outputs.repos }}; do
            echo "Repo: $repo"
          done        
